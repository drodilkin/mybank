<!DOCTYPE html>
<html>
<head>
    <title>–ú–æ–π –ë–∞–Ω–∫</title>
    <style>
        body { font-family: Arial; max-width: 500px; margin: auto; padding: 20px; }
        .card { background: #f0f8ff; padding: 20px; margin: 15px 0; border-radius: 10px; }
        input, button { width: 100%; padding: 12px; margin: 8px 0; }
        .balance { font-size: 28px; color: #228b22; }
    </style>
</head>
<body>
    <h1>üè¶ –ú–æ–π –ë–∞–Ω–∫</h1>
    
    <div class="card">
        <h3>–í–æ–π—Ç–∏:</h3>
        <input id="email" placeholder="Email" value="you@test.com">
        <input id="password" placeholder="–ü–∞—Ä–æ–ª—å" value="123">
        <button onclick="login()">–í–æ–π—Ç–∏</button>
    </div>
    
    <div id="bank" style="display:none;">
        <div class="card">
            <h3>üë§ <span id="userName">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span></h3>
            <div class="balance">üí∞ <span id="balance">0</span> –±–∞–ª–ª–æ–≤</div>
        </div>
        
        <div class="card">
            <h3>üì§ –ü–µ—Ä–µ–≤–æ–¥ –¥—Ä—É–≥—É:</h3>
            <input id="friendEmail" placeholder="Email –¥—Ä—É–≥–∞" value="friend@test.com">
            <input id="amount" type="number" placeholder="–°—É–º–º–∞" value="100">
            <button onclick="sendMoney()">üí∏ –ü–µ—Ä–µ–≤–µ—Å—Ç–∏</button>
        </div>
        
        <div class="card">
            <h3>üì± –ü—Ä–æ–≤–µ—Ä–∏—Ç—å NFC:</h3>
            <button onclick="checkNFC()">üì≤ –ü–æ–¥–Ω–µ—Å—Ç–∏ –∫–∞—Ä—Ç—É</button>
        </div>
        
        <div id="result" class="card" style="background: #f0fff0; display:none;"></div>
        
        <button onclick="logout()" style="background: #ff4444; color: white;">–í—ã–π—Ç–∏</button>
    </div>

    <script>
        let users = {
            'you@test.com': { name: '–í—ã', balance: 1000, password: '123' },
            'friend@test.com': { name: '–î—Ä—É–≥', balance: 0, password: '123' }
        };
        
        let currentUser = null;
        
        function login() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            if (users[email] && users[email].password === password) {
                currentUser = users[email];
                document.querySelector('.card').style.display = 'none';
                document.getElementById('bank').style.display = 'block';
                document.getElementById('userName').textContent = currentUser.name;
                document.getElementById('balance').textContent = currentUser.balance;
                showResult('‚úÖ –í–æ—à–ª–∏ –∫–∞–∫: ' + currentUser.name);
            } else {
                showResult('‚ùå –û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞');
            }
        }
        
        function sendMoney() {
            const friendEmail = document.getElementById('friendEmail').value;
            const amount = parseInt(document.getElementById('amount').value);
            
            if (!users[friendEmail]) {
                showResult('‚ùå –î—Ä—É–≥ –Ω–µ –Ω–∞–π–¥–µ–Ω');
                return;
            }
            
            if (amount > currentUser.balance) {
                showResult('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤');
                return;
            }
            
            currentUser.balance -= amount;
            users[friendEmail].balance += amount;
            
            document.getElementById('balance').textContent = currentUser.balance;
            
            showResult(
                '‚úÖ –ü–µ—Ä–µ–≤–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω!<br>' +
                'üì§ –í—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏: ' + amount + ' –±–∞–ª–ª–æ–≤<br>' +
                'üë§ –î—Ä—É–≥—É: ' + users[friendEmail].name + '<br>' +
                'üí∞ –í–∞—à –±–∞–ª–∞–Ω—Å: ' + currentUser.balance + ' –±–∞–ª–ª–æ–≤<br><br>' +
                'üì± –î—Ä—É–≥ —É–≤–∏–¥–∏—Ç –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã'
            );
        }
        
        function checkNFC() {
            if (!currentUser) return;
            
            if ('NDEFReader' in window) {
                showResult('üì± –ü–æ–¥–Ω–µ—Å–∏—Ç–µ NFC –∫–∞—Ä—Ç—É –∫ —Ç–µ–ª–µ—Ñ–æ–Ω—É...');
            } else {
                showResult('üì± –î–µ–º–æ NFC:<br>–í–ª–∞–¥–µ–ª–µ—Ü: ' + currentUser.name + '<br>–ë–∞–ª–∞–Ω—Å: ' + currentUser.balance + ' –±–∞–ª–ª–æ–≤');
            }
        }
        
        function showResult(message) {
            const result = document.getElementById('result');
            result.style.display = 'block';
            result.innerHTML = message;
        }
        
        function logout() {
            currentUser = null;
            document.getElementById('bank').style.display = 'none';
            document.querySelector('.card').style.display = 'block';
        }
    </script>
</body>
</html>
